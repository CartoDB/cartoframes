{"parents": [], "prev": null, "next": null, "title": "cartoframes.data.clients.sql_client module", "meta": {}, "body": "<div class=\"section\" id=\"module-cartoframes.data.clients.sql_client\">\n<span id=\"cartoframes-data-clients-sql-client-module\"></span><h1>cartoframes.data.clients.sql_client module<a class=\"headerlink\" href=\"#module-cartoframes.data.clients.sql_client\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<dl class=\"class\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient\">\n<em class=\"property\">class </em><code class=\"sig-prename descclassname\">cartoframes.data.clients.sql_client.</code><code class=\"sig-name descname\">SQLClient</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">credentials=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></p>\n<p>SQLClient class is a client to run SQL queries in a CARTO account.\nNote: for long running SELECT queries affected by database timeouts it\u2019s\nrecommended to use the <a class=\"reference internal\" href=\"../cartoframes.data/#cartoframes.data.Dataset\" title=\"cartoframes.data.Dataset\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Dataset</span></code></a> class.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters</dt>\n<dd class=\"field-odd\"><p><strong>credentials</strong> (<a class=\"reference internal\" href=\"../cartoframes.auth/#cartoframes.auth.Credentials\" title=\"cartoframes.auth.Credentials\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Credentials</span></code></a>) \u2013 A <a class=\"reference internal\" href=\"../cartoframes.auth/#cartoframes.auth.Credentials\" title=\"cartoframes.auth.Credentials\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Credentials</span></code></a>\ninstance can be used in place of a <cite>username`|`base_url</cite> / <cite>api_key</cite> combination.</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes.auth</span> <span class=\"k\">import</span> <span class=\"n\">Credentials</span>\n<span class=\"kn\">from</span> <span class=\"nn\">cartoframes.client</span> <span class=\"k\">import</span> <span class=\"n\">SQLClient</span>\n\n<span class=\"n\">credentials</span> <span class=\"o\">=</span> <span class=\"n\">Credentials</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">&#39;&lt;USER NAME&gt;&#39;</span><span class=\"p\">,</span> <span class=\"n\">api_key</span><span class=\"o\">=</span><span class=\"s1\">&#39;&lt;API KEY&gt;&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">sql</span> <span class=\"o\">=</span> <span class=\"n\">SQLClient</span><span class=\"p\">(</span><span class=\"n\">credentials</span><span class=\"p\">)</span>\n\n<span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"s1\">&#39;SELECT * FROM table_name&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s1\">&#39;DROP TABLE table_name&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">distinct</span><span class=\"p\">(</span><span class=\"s1\">&#39;table_name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;column_name&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">(</span><span class=\"s1\">&#39;table_name&#39;</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n</pre></div>\n</div>\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.bounds\">\n<code class=\"sig-name descname\">bounds</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">query</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.bounds\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the bounds of the geometries in a table.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.count\">\n<code class=\"sig-name descname\">count</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the number of elements of a table.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.create_table\">\n<code class=\"sig-name descname\">create_table</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">columns</em>, <em class=\"sig-param\">cartodbfy=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.create_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a table with a specific table name and columns.\nBy default, geometry columns are added to the table.\nTo disable this pass <cite>cartodbfy=False</cite>.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.describe\">\n<code class=\"sig-name descname\">describe</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">column_name</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.describe\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Show information about a column in a specific table.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.distinct\">\n<code class=\"sig-name descname\">distinct</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">column_name</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.distinct\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the distict values and their count in a table\nfor a specific column.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.drop_table\">\n<code class=\"sig-name descname\">drop_table</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.drop_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove a table from its table name.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.execute\">\n<code class=\"sig-name descname\">execute</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">query</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.execute\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run a long running query. It returns an object with the\nstatus and information of the job. For more information check the <cite>Batch API\ndocumentation\n&lt;https://carto.com/developers/sql-api/reference/#tag/Batch-Queries&gt;</cite>.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.insert_table\">\n<code class=\"sig-name descname\">insert_table</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">columns</em>, <em class=\"sig-param\">values</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.insert_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.query\">\n<code class=\"sig-name descname\">query</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">query</em>, <em class=\"sig-param\">verbose=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.query\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run a SQL query. It returns a <cite>list</cite> with content of the response.\nIf the <cite>verbose</cite> param is True it returns the full SQL response in a <cite>dict</cite>.\nFor more information check the <cite>SQL API\ndocumentation\n&lt;https://carto.com/developers/sql-api/reference/#tag/Single-SQL-Statement&gt;</cite>.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.rename_table\">\n<code class=\"sig-name descname\">rename_table</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">new_table_name</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.rename_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Rename a table from its table name.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.schema\">\n<code class=\"sig-name descname\">schema</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">raw=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.schema\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Show information about the schema of a table.\nSetting raw=True is returns a Python dict with the data.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"cartoframes.data.clients.sql_client.SQLClient.update_table\">\n<code class=\"sig-name descname\">update_table</code><span class=\"sig-paren\">(</span><em class=\"sig-param\">table_name</em>, <em class=\"sig-param\">column_name</em>, <em class=\"sig-param\">value</em>, <em class=\"sig-param\">condition</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#cartoframes.data.clients.sql_client.SQLClient.update_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Update the column\u2019s value for the rows that match the condition.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "cartoframes.data.clients.sql_client.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">cartoframes.data.clients.sql_client module</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "current_page_name": "cartoframes.data.clients.sql_client", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}