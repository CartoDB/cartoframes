{"parents": [], "prev": {"link": "../maps/", "title": "Map Workflows"}, "next": {"link": "../data/", "title": "Data Workflows"}, "title": "Publishing and sharing a map", "meta": {}, "body": "<div class=\"section\" id=\"publishing-and-sharing-a-map\">\n<h1>Publishing and sharing a map<a class=\"headerlink\" href=\"#publishing-and-sharing-a-map\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<blockquote>\n<div><div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Non-public API. It may change with no previous notice</p>\n</div>\n</div></blockquote>\n<p>In CARTOframes, you can publish a map visualization and then share it. When you publish the map visualization, you receive an URL where to see your visualization outside of the Notebook, so you can share it or use it where you want.</p>\n<div class=\"section\" id=\"publishing-a-map\">\n<h2>Publishing a map<a class=\"headerlink\" href=\"#publishing-a-map\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes.viz</span> <span class=\"k\">import</span> <span class=\"n\">Map</span><span class=\"p\">,</span> <span class=\"n\">Layer</span><span class=\"p\">,</span> <span class=\"n\">basemaps</span>\n\n<span class=\"n\">tmap</span> <span class=\"o\">=</span> <span class=\"n\">Map</span><span class=\"p\">(</span><span class=\"n\">Layer</span><span class=\"p\">(</span><span class=\"n\">PUBLIC_TABLE</span><span class=\"p\">))</span>\n<span class=\"n\">tmap</span><span class=\"o\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"s1\">&#39;cf_publish_case_1&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The \u2018publish\u2019 method uses \u2018default_public\u2019 API key by default. So, if you want to publish a map using private datasets, you should add a Regular API key with permissions to Maps API and the datasets.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes.viz</span> <span class=\"k\">import</span> <span class=\"n\">Map</span><span class=\"p\">,</span> <span class=\"n\">Layer</span><span class=\"p\">,</span> <span class=\"n\">basemaps</span>\n\n<span class=\"n\">tmap</span> <span class=\"o\">=</span> <span class=\"n\">Map</span><span class=\"p\">(</span><span class=\"n\">Layer</span><span class=\"p\">(</span><span class=\"n\">PRIVATE_TABLE</span><span class=\"p\">))</span>\n<span class=\"n\">tmap</span><span class=\"o\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"s1\">&#39;cf_publish_case_2&#39;</span><span class=\"p\">,</span> <span class=\"n\">maps_api_key</span><span class=\"o\">=</span><span class=\"s1\">&#39;YOUR MAPS API KEY&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Anyway, you can publish a map visualization protected by password:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">cartoframes.viz</span> <span class=\"k\">import</span> <span class=\"n\">Map</span><span class=\"p\">,</span> <span class=\"n\">Layer</span><span class=\"p\">,</span> <span class=\"n\">basemaps</span>\n\n<span class=\"n\">tmap</span> <span class=\"o\">=</span> <span class=\"n\">Map</span><span class=\"p\">(</span><span class=\"n\">Layer</span><span class=\"p\">(</span><span class=\"n\">PUBLIC_TABLE</span><span class=\"p\">))</span>\n<span class=\"n\">tmap</span><span class=\"o\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"s1\">&#39;cf_publish_case_1_password&#39;</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s2\">&quot;1234&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In every case, the <cite>publish</cite> method will return the <cite>id</cite>, <cite>url</cite>, <cite>name</cite> and <cite>privacy</cite> of the visualization.</p>\n</div>\n<div class=\"section\" id=\"synchrorize-data\">\n<h2>Synchrorize data<a class=\"headerlink\" href=\"#synchrorize-data\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If the data used by your map is not synchronized with CARTO, you will need to use <cite>sync_data</cite> method before publishing:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tmap_with_local_data</span><span class=\"o\">.</span><span class=\"n\">sync_data</span><span class=\"p\">(</span><span class=\"n\">table_name</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"updating-a-published-visualization\">\n<h2>Updating a published visualization<a class=\"headerlink\" href=\"#updating-a-published-visualization\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If you have modified your map after publishing the visualization:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tmap</span><span class=\"o\">.</span><span class=\"n\">update_publication</span><span class=\"p\">(</span><span class=\"s1\">&#39;cf_publish_update_1&#39;</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>You will have to add the <cite>password</cite> parameter to set again if you want the visualization protected by password or not.</p>\n</div>\n<div class=\"section\" id=\"deleting-a-published-visualization\">\n<h2>Deleting a published visualization<a class=\"headerlink\" href=\"#deleting-a-published-visualization\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">tmap</span><span class=\"o\">.</span><span class=\"n\">delete_publication</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["data", "Data Workflows", "N", "next"], ["maps", "Map Workflows", "P", "previous"]], "sourcename": "kuviz.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Publishing and sharing a map</a><ul>\n<li><a class=\"reference internal\" href=\"#publishing-a-map\">Publishing a map</a></li>\n<li><a class=\"reference internal\" href=\"#synchrorize-data\">Synchrorize data</a></li>\n<li><a class=\"reference internal\" href=\"#updating-a-published-visualization\">Updating a published visualization</a></li>\n<li><a class=\"reference internal\" href=\"#deleting-a-published-visualization\">Deleting a published visualization</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "kuviz", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}